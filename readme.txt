Plugin Name:  Simple Inventory and Sales
Description: This is a plugin designed to allow the tracking of inventory sold via PayPal
Author:  Steve Devine
Contributors: sdevine
Version:           1.0.4
Author URI:        https://devine-itconsulting.com
Requires at least: 5.3
Tested up to: 5.7
Stable tag: 1.0.4
Requires PHP: 7.0
Requires: Plugin WP-PayPal for full functionality.  https://wordpress.org/plugins/wp-paypal/ Install and configure as directed (I suggest starting in “SandBox” mode.)
License: GPLv2 or later
License URI: https://www.gnu.org/licenses/gpl-2.0.html
Tags: Sales, Inventory, track sales, paypal, e-commerce

Hat Tip to ACF  - This plugin come with settings generated by Advanced Custom Fields https://www.advancedcustomfields.com/  (No action required by you.)


Description: Simple Inventory and Sales allows you to offer items on your WordPress site for sale, make that sale via WP-PayPal (a very fine PayPal plugin) and record that sale in your local database. Additionally you can export your sales records (with customer address data) in CSV format to your local computer for backup, record keeping or printing packing slips. 

Terms and abbreviations 
– WP == WordPress
– PP == PayPal

*************************************
Installation 

Once installed:

– Go to plugins ( WP – Plugins) find Simple Inventory and Sales and click “Activate” 

– Go to the settings ( WP Dashboard – Simple Inventory and Sales Plugin – and set the following:

* Admin Email account  - this is required. You will receive notifications of sales at this address. Can be changed at anytime.

* Simple Inventory and Sales Admin user – this is required. This is a local WP user that you allow access to the Simple Inventory Administrative tools. This user must may be a WP admin but MUST have at least WP editor status.  Can be changed at any time.

* Application URL – This is the url of your site. This is required as the application needs to know what site it is running on. 

**************************************
About Pages and Menus

At the time the Simple Inventory and Sales Plugin is activated, several pages and two menus are created.

The PAGES are:

Administrative

1) Admin Product Search. This page is designed to review product inventory. It accessible only by privileged accounts. 

2) Export. This page allows privileged accounts to review sales and download CSV formatted files for local files.

3) Product Manage. This page allows privileged accounts to add and edit inventory.

4) Admin. This page is accessible only by privileged accounts. This page provides links to the three pages listed above. This page is a jumping off point for administration tasks.

Public

1) Product Search. This page allows non-privileged (public) users to browse products or search for specific products. Once they find what they like can choose to purchase that product via PayPal.

2) Featured – This page could be used as the main landing page for your site if you so choose. This page allows you to showcase particular items that you have for sale. You control what is dispalyed via the use of WordPress Shortcodes (more about that later.)

3) Response. This page is a single page that delivers a “Thank You” message or “Sorry that sale was canceled.” message based on feedback from the PayPal website. You are free to edit the graphics on this as you like as long as you leave the embeded shortcode in place.

MENUS

1) Simple Inventory and Sales Public Menu – This menu has two pages linked to it. “Product Search” and “Featured” These are considered public and should appear in the header.

2) Simple Inventory and Sales Admin Menu – This menu has two pages linked to it. “Home” and “Admin”
These are administrative and should appear in the footer. 


NOTE – Menus are greatly affected by theme choice and so the placement of these menus may not be to your liking. Experiment a little until you have it the way you like it.

I advise that you do NOT put the administrative pages on prominent navigation menus since they will deny access and irritate the public user. 

Remember – you only need a link to the Admin page – you can get everywhere else you need to go from there. This is why I suggest putting that in the footer.  

DataBase tables

At the time of activation, Simple Inventory and Sales will create two database table (Sales and Product) this does not require any action on your part.
***************************************

Getting Started

In order to add product to Simple Inventory and Sales, click on the Admin menu (located in footer) – then click on the button “Go to Product Add.“ Here you will find a simple interface where you can check your items into the database. It is all self exploratory. The only thing your customers will see will be the List Price, Description, Product name and the picture of the item (if provided) 

--Special handling of Image. Because WP has a somewhat quirky way of handling images the full path cannot be programmed – this means you have to do it.

SO 

– Upload your image to WP – once uploaded go to the desired image in WP’s media library and click on it. You will see a properties panel open on the right side of your screen. Look for a text box labeled File URL this is the actual location of your image. Click on the button below labeled Copy URL. 
Return to the Add Product page and paste that URL into the text box labeled Image Name. 
This can be edited at any time. 

That’s all you have to do!!

Once entered into the database you can go to Product search (non-privileged) or Admin Product Search and see the product. If you leave the text box empty you will see all of your products. 

Admin Product Search allows you to review product details, edit product details and delete product entries. This is for privileged accounts only. 

The Featured page uses a shortcode. You can determine what items are ‘Featured’ by setting the shortcodes thuslly:

[ShowProdStripped id="3" ,  i_width="33%" , i_height="33%" i_border="4px solid black"]
NOTE: 
– The entire statement lives inside the brackets ( [ ] ) 
– The first section of the shortcode is required. [ShowProdStripped id =”xx”] Every thing else is optional.  
– The first parameter ( id ) is the product ID of the product you want to display. You can find that ID number via the “Admin Product Search” page above the image. 
– The second and third parameters control the Image width and height – in this example the image is displayed at 33 % of it’s original size. Your mileage may vary on these – you may not need them at all. The value of this is reducing large images down to a palatable size.  The last parameter with allow you to put a border around your image. You can set the thickness and the color of the border.
Finally if desired you can use <i> and <b> tags if desired. These must be on the outside of the shortcode.
*************************

A few words about Short Codes. 

– Shortcodes are a powerful WordPress tool that lets the programmer offer his/her code to the pages of the app.
– I have used Shortcodes throughout this plugin in order to insert functionality into the app.
– You will see Shortcodes in all of the pages that come with this app. Please leave them in place. You can change the graphics as you wish and even add Shortcodes of your own as other plugins may direct you, however if you delete or mangle the Shortcodes that were shipped with this app you will lose functionality.
Deactivating and reactivating the plugin may restore a damaged page. YMMV.  
***********************

SALES
Once you make a sale you will recieve a email at the account you have listed as your "Admin Email Account" in the settings panel. The notice is designed to alert you so it does not give a lot of info. It should be enough for you to find the sale in the Export page it lists the sale_id and the gross payment recieved from PayPal - the Sale_ID is unique - use that to find the exact sale. 
The success of this feature is very much dependant on the Hosting service you use. I develop on a Amazon Virtual platform and Amazon is very picky about outgoing email. So this may not work in your situation. Please feel free to let me know how it works for you.

*******************************************************************
Thanks for reading this and Happy Sales!

Steve



= 1.0.0 =
* First commit
= 1.0.1 =
* Fixed syntax error using PHP 7.2.34
= 1.0.2 =
* Fixed Version numbering oddness.
= 1.0.3 =
* Fixing Version numbering oddness - again.
= 1.0.4 =
Fix uninstall program that wasn't deleting default pages that come with this plugin. 
